// a bunch of rules for everything.
@use "sass:math"

*, *::before, *::after
	box-sizing: border-box

:root
	font-size: 16px

$FOUR_THIRDS: math.div(4, 3)

@function ms($scale) // modular scale; base 1, ratio 4/3
	$value: 1
	@if $scale > 0
		@for $_ from 1 through $scale
			$value: $value * $FOUR_THIRDS
	@else if $scale < 0
		@for $_ from 1 through -$scale
			$value: math.div($value, $FOUR_THIRDS)

	@return $value

html
	scrollbar-background-color: inherit transparent

	&::-webkit-scrollbar
		width: 8px
		background-color: #00000000

body
	background: var(--background)
	font-family: "Open Sans", sans-serif
	font-size: ms(0) * 1em
	margin: 2% 0%
	text-rendering: optimizeSpeed
	line-height: ms(1)

a
	color: inherit

// resizing based on width...
main, nav, footer, header > div > .header-inner
	margin: 0% 20%

	@media (max-width: 1280px)
		margin: 0 10%

	@media (max-width: 480px)
		margin: 0 1em
		#mynameis, a[href="#nav"] // "back to top" and "my name is andy chan"
			display: none

code
	font-family: "JetBrains Mono", monospace
	background: #f6f6f696

.rouge-gutter
	background: #96969696
	padding: 0.15em 0.25em 0.25em
	margin: -0.15em
	position: absolute
	width: 1em

.rouge-code
	padding-left: 1.5em
	margin-left: -0.5em

pre > code // code blocks!
	display: block
	font-size: 13px
	line-height: 1.2
	overflow-x: auto

img // images.
	max-width: 100%
	max-height: 480px
	display: block
	margin: auto

nav, footer
	background: rgba(32, 32, 32, 0.8)
	color: white
	padding: 0.5em
	display: flex
	justify-content: space-between
	align-items: center
	img[src$="logo.svg"]
		filter: invert(100%)
		height: 1em
		display: inline
		vertical-align: -0.12rem
	#links > a
		padding: 0 0.1em

blockquote
	padding-left: 1em
	border-left: 4px solid
	font-style: italic


// fancy quotes...
q
	> ::before
		content: "“" // opening double quote

	> ::after
		content: "”" // closing double quote

.inline > *
	display: inline

h1 + .tags
	margin-left: 0.5ch
	vertical-align: ms(3) * 0.25em

h3 + .tags
	vertical-align: 0.1em

.tags
	> .tag
		padding: 0.1em 0.25ch
		+ .tag
			margin-left: 0.5ch

p.subheader  // below headers
	margin: 0.25em 0
	line-height: ms(1)
	+ div
		margin-top: ms(2) * 1em
	+ time, p
		margin-top: 1em

.emphasis-highlight
	color: black
	text-decoration: none
	background: var(--highlight)

.smoltext
	font-size: ms(-1) * 1em

a[rel="license"]
	font-family: 'Font Awesome 5 EDITED'
	text-decoration: none
	font-size: large

.flow > * + *
	margin-top: var(--flow-space, 1em)
