<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>website v4</title>
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="alternate icon" href="/favicon.ico" />
		<link rel="stylesheet" href="/assets/css/styles.css" />
		<link rel="stylesheet" href="/assets/css/projects.css" />
		<link
			type="application/atom+xml"
			rel="alternate"
			href="https://12beesinatrenchcoat.github.io/feed.xml"
		/>
		<!-- generic meta tags -->
		<meta property="title" content="website v4" />
		<meta
			property="description"
			content="the fourth iteration of my website because i am very not good at this"
		/>
		<meta property="author" content="andy chan" />
		<!-- open graph protocol stuff. ogp.me -->
		<meta property="og:title" content="website" v4 />
		<meta property="og:type" content="website" />
		<meta
			property="og:image"
			content="https://12beesinatrenchcoat.github.io/assets/images/websitev4-header.webp"
		/>
		<meta
			property="og:url"
			content="https://12beesinatrenchcoat.github.io/projects/2020-02-20-website_v4.html"
		/>
		<meta
			property="og:description"
			content="the fourth iteration of my website because i am very not good at this"
		/>
		<meta property="og:locale" content="en_US" />
		<meta property="og:site_name" content="andy does things" />
	</head>

	<nav id="nav">
		<span id="links">
			<a href="/">home</a>

			<a href="/blog.html">blog</a>

			<a href="/projects.html" class="emphasis-highlight">projects</a>
		</span>
		<span>
			<span id="mynameis">
				my name is <span class="emphasis-highlight">andy chan</span> &nbsp;
			</span>
			<img
				src="/assets/site-images/logo.svg"
				alt="logo (x, triangle, left angle bracket)"
			/>
		</span>
	</nav>

	<header style="background-image: url(/assets/images/websitev4-header.webp)">
		<div class="complete">
			<div class="header-inner">
				<span class="smoltext">475 words</span>
				<span class="inline">
					<h1 id="title">website v4</h1>

					<div class="tags">
						<span class="tag">code</span>

						<span class="tag">design</span>
					</div>
				</span>
				<p class="subheader">
					the fourth iteration of my website because i am very not good at this
				</p>
				<span class="inline">
					<span class="complete status">complete</span>

					<time datetime="2020-02-20"> started 20 feb 2020 </time>

					/ <time datetime="2020-02-23"> completed 23 feb 2020 :D </time>
				</span>
			</div>
		</div>
	</header>

	<main class="flow">
		<p>
			In the span of three days, I wrote and actually finished the fourth
			iteration of my website, aptly titled…
			<code class="language-plaintext highlighter-rouge">website v4</code>. Even
			though this is <em>literally the first finished iteration of it</em>.
			Ignore the previous iterations from the past two years (and the fact that
			I lost an iteration due to a hard drive formatting).
		</p>

		<p>
			<strong>Update [26 July 2020]:</strong> The status of this has been marked
			“work in progress” for the longest time. it’s not. It’s been done for a
			while now. Even though the compiler is disgusting to look at and I really
			need to rewrite it.
		</p>

		<p>
			So, into the technical stuff. What does this do, how does it work, and any
			other things.
		</p>

		<p>
			<em
				>Just a fair warning: I am not very qualified to write about this stuff.
				And also this is very substanceless. Cool.</em
			>
		</p>

		<h1 id="the-goal-of-it-all">The Goal Of It All</h1>

		<p>
			I wrote
			<code class="language-plaintext highlighter-rouge">website v4</code> with
			one main goal: to be able to write my posts and projects in Markdown (with
			YAML front matter serving as metadata). This was an ambitious goal, mainly
			because of the fact that I have nearly zero experience with JavaScript
			(what the “compiler” was written in) - or any other programming language,
			for that matter. The fact that this is still working is amazing.
		</p>

		<h1 id="how-it-all-works">How It All Works</h1>

		<p>
			The compiler is written in JavaScript with Node.js, and utilizes two main
			libraries:
		</p>

		<ul>
			<li>
				<a href="https://www.npmjs.com/package/gray-matter">gray-matter</a> -
				used for parsing the YAML into some usable information
			</li>
			<li>
				<a href="https://www.npmjs.com/package/showdown">showdown</a> - actually
				turning the markdown into an html site.
			</li>
		</ul>

		<p>Now, how does it all work? (Or at least, how is it supposed to?)</p>

		<p>
			First, the script (<code class="language-plaintext highlighter-rouge"
				>main.js</code
			>) is executed. It proceeds to read the contents of two preset
			directories,
			<code class="language-plaintext highlighter-rouge">/blog/md</code>, and
			<code class="language-plaintext highlighter-rouge">/projects/md</code>,
			where the markdown files are stored. After that, for each file in the
			directory, it:
		</p>

		<ol>
			<li>Reads the file, and saves the content into a variable.</li>
			<li>
				Uses
				<code class="language-plaintext highlighter-rouge">gray-matter</code> to
				parse the file, and save the result of that into a variable.
			</li>
			<li>
				Uses
				<code class="language-plaintext highlighter-rouge">showdown</code> to
				convert the markdown into HTML
			</li>
			<li>
				Appends some extra HTML to the result. This is where the YAML comes in
				handy - it plugs in variables in certain spots, such as the title, the
				date, progress (if the file is a project), etc.
			</li>
			<li>
				Saves the file to the parent directory (of the
				<code class="language-plaintext highlighter-rouge">/md</code>
				directory).
			</li>
			<li>
				Somewhere along the line, it would update
				<code class="language-plaintext highlighter-rouge">index.html</code>
				with a little entry so people can actually access it.
			</li>
		</ol>

		<p>
			And that’s how it should work. It’s actually a lot messier than that.
			(Don’t read the source code, it’s a nightmare.)
		</p>

		<p>And that’s all! I hope. I’m not coming back to this. Ever.</p>

		<p>Until the inevitable re:re:rewrite,</p>

		<p>Andy Chan</p>

		<p>
			(Follow me on
			<a href="https://twitter.com/12bz_trenchcoat">Twitter</a> and look at more
			crimes against humanity on my
			<a href="https://github.com/andythepie">GitHub</a>.)
		</p>
	</main>

	<footer>
		<span title="2021-10-13 19:06:26 -0400">built 13 oct 2021</span>
		<span>
			<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
				 
			</a>
		</span>
		<a href="#nav">back to top</a>
	</footer>
</html>
